<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo do Docker e Dockerfile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals (Beige, Charcoal, Muted Terracotta) -->
    <!-- Application Structure Plan: A single-page application with a fixed sidebar for navigation between thematic sections (Intro, Dockerfile, Commands, Best Practices, Examples). This structure provides a clear, non-linear exploration path, allowing users to jump directly to the content they need. Key interactions include a command explorer for detailed comparisons, visual diagrams for complex concepts like layers and VMs vs. containers, and a tabbed view for code examples, all designed to enhance understanding over passive reading. -->
    <!-- Visualization & Content Choices: Report Info: Docker vs. VM -> Goal: Compare -> Viz: HTML/CSS diagram -> Interaction: Hover tooltips -> Justification: Visually clarifies the core architectural difference. | Report Info: Dockerfile Layers/Cache -> Goal: Explain Process -> Viz: JS-animated HTML divs -> Interaction: Click-to-simulate rebuild -> Justification: Makes an abstract concept tangible. | Report Info: Command Comparisons (COPY/ADD, CMD/ENTRYPOINT) -> Goal: Compare/Inform -> Presentation: Interactive click-to-reveal panel -> Interaction: User selects command to view details -> Justification: Allows focused, side-by-side comparison which is more effective than scrolling through text. | Report Info: Code Examples -> Goal: Provide Reference -> Presentation: Tabbed interface -> Interaction: Click tabs -> Justification: Organizes code for different languages cleanly in one space. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Roboto+Mono:wght@400;700&display=swap');
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        .bg-warm-beige { background-color: #F7F3E9; }
        .text-charcoal { color: #36454F; }
        .accent-terracotta { color: #E07A5F; }
        .bg-accent-terracotta { background-color: #E07A5F; }
        .border-accent-terracotta { border-color: #E07A5F; }
        .bg-stone-200 { background-color: #E7E5E4; }
        .bg-stone-300 { background-color: #D6D3D1; }
        .sidebar-link.active {
            background-color: #E07A5F;
            color: white;
        }
        .command-btn.active {
            background-color: #E07A5F;
            color: white;
            border-color: #E07A5F;
        }
        .tab-btn.active {
            border-color: #E07A5F;
            color: #E07A5F;
            font-weight: 700;
        }
        .layer {
            transition: all 0.5s ease-in-out;
        }
        .layer.cached {
            background-color: #A7C957;
        }
        .layer.rebuilt {
            background-color: #F2C14E;
            animation: flash 1s ease-in-out;
        }
        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="bg-warm-beige text-charcoal">

    <div class="flex flex-col md:flex-row min-h-screen">
        <aside class="w-full md:w-64 bg-stone-200 p-4 md:fixed md:h-full">
            <h1 class="text-2xl font-bold accent-terracotta mb-6">Guia Docker</h1>
            <nav id="sidebar-nav" class="flex flex-row md:flex-col gap-2 overflow-x-auto pb-2 md:pb-0">
                <a href="#fundamentos" class="sidebar-link whitespace-nowrap text-left w-full px-4 py-2 rounded-lg transition-colors duration-200 hover:bg-accent-terracotta hover:text-white">Fundamentos</a>
                <a href="#dockerfile" class="sidebar-link whitespace-nowrap text-left w-full px-4 py-2 rounded-lg transition-colors duration-200 hover:bg-accent-terracotta hover:text-white">O Dockerfile</a>
                <a href="#comandos" class="sidebar-link whitespace-nowrap text-left w-full px-4 py-2 rounded-lg transition-colors duration-200 hover:bg-accent-terracotta hover:text-white">Comandos</a>
                <a href="#praticas" class="sidebar-link whitespace-nowrap text-left w-full px-4 py-2 rounded-lg transition-colors duration-200 hover:bg-accent-terracotta hover:text-white">Boas Práticas</a>
                <a href="#exemplos" class="sidebar-link whitespace-nowrap text-left w-full px-4 py-2 rounded-lg transition-colors duration-200 hover:bg-accent-terracotta hover:text-white">Exemplos</a>
            </nav>
        </aside>

        <main class="flex-1 md:ml-64 p-4 sm:p-6 md:p-10">
            <section id="fundamentos" class="mb-16 min-h-screen">
                <h2 class="text-3xl font-bold mb-4 accent-terracotta">Fundamentos do Docker</h2>
                <p class="mb-8 text-lg">O Docker resolve o clássico problema "na minha máquina funciona" ao empacotar uma aplicação com todas as suas dependências em unidades padronizadas chamadas contêineres. Isso garante consistência entre os ambientes de desenvolvimento, teste e produção.</p>
                
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-4">Docker vs. Máquinas Virtuais (VMs)</h3>
                    <p class="mb-6">Ambos isolam ambientes, mas de formas fundamentalmente diferentes. As VMs virtualizam o hardware, executando um sistema operacional completo. Os contêineres Docker virtualizam o sistema operacional, compartilhando o kernel do host, o que os torna muito mais leves e rápidos.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="border-2 border-stone-300 p-4 rounded-lg text-center">
                            <h4 class="font-bold text-xl mb-2">Máquina Virtual</h4>
                            <div class="bg-stone-200 p-2 rounded mb-2">
                                <p class="font-semibold">App A</p>
                                <div class="bg-stone-300 p-2 rounded mt-1">Libs/Bins</div>
                                <div class="bg-stone-300 p-2 rounded mt-1 font-bold">Guest OS</div>
                            </div>
                             <div class="bg-stone-200 p-2 rounded mb-2">
                                <p class="font-semibold">App B</p>
                                <div class="bg-stone-300 p-2 rounded mt-1">Libs/Bins</div>
                                <div class="bg-stone-300 p-2 rounded mt-1 font-bold">Guest OS</div>
                            </div>
                            <div class="bg-accent-terracotta text-white p-2 rounded mb-2 font-bold">Hipervisor</div>
                            <div class="bg-charcoal text-white p-2 rounded font-bold">Host OS + Infraestrutura</div>
                        </div>
                        <div class="border-2 border-accent-terracotta p-4 rounded-lg text-center">
                            <h4 class="font-bold text-xl mb-2">Contêiner Docker</h4>
                            <div class="flex gap-2">
                                <div class="bg-stone-200 p-2 rounded w-full">
                                    <p class="font-semibold">App A</p>
                                    <div class="bg-stone-300 p-2 rounded mt-1">Libs/Bins</div>
                                </div>
                                <div class="bg-stone-200 p-2 rounded w-full">
                                    <p class="font-semibold">App B</p>
                                    <div class="bg-stone-300 p-2 rounded mt-1">Libs/Bins</div>
                                </div>
                            </div>
                            <div class="bg-accent-terracotta text-white p-2 rounded my-2 font-bold">Docker Engine</div>
                            <div class="bg-charcoal text-white p-2 rounded font-bold">Host OS + Infraestrutura</div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="dockerfile" class="mb-16 min-h-screen">
                <h2 class="text-3xl font-bold mb-4 accent-terracotta">O Dockerfile: A Receita da Imagem</h2>
                <p class="mb-8 text-lg">Um `Dockerfile` é um arquivo de texto com instruções para construir uma imagem Docker. Cada instrução cria uma camada. A ordem das instruções é crucial para otimizar o cache e acelerar os builds.</p>
                
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-4">Camadas e Cache em Ação</h3>
                    <p class="mb-4">O Docker reutiliza camadas de builds anteriores (cache) se nada mudou. Se uma linha no Dockerfile muda, o cache é invalidado a partir daquele ponto e todas as camadas seguintes são reconstruídas. Clique no botão para simular uma mudança no código e veja o que acontece.</p>
                    <div class="flex flex-col lg:flex-row gap-8">
                        <div class="lg:w-1/2">
                            <h4 class="font-semibold mb-2">Exemplo de Dockerfile</h4>
                            <div id="dockerfile-example" class="font-mono text-sm bg-charcoal text-white p-4 rounded-lg">
                                <div data-layer="1"><span class="text-purple-400">FROM</span> node:20-alpine</div>
                                <div data-layer="2"><span class="text-purple-400">WORKDIR</span> /app</div>
                                <div data-layer="3"><span class="text-purple-400">COPY</span> package*.json .</div>
                                <div data-layer="4"><span class="text-purple-400">RUN</span> npm install</div>
                                <div data-layer="5" id="code-copy-line"><span class="text-purple-400">COPY</span> . .</div>
                                <div data-layer="6"><span class="text-purple-400">CMD</span> ["node", "server.js"]</div>
                            </div>
                            <button id="rebuild-btn" class="mt-4 w-full bg-accent-terracotta text-white font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity">Simular Mudança no Código e Reconstruir</button>
                        </div>
                        <div class="lg:w-1/2">
                            <h4 class="font-semibold mb-2">Visualização das Camadas</h4>
                            <div id="layers-visualization" class="bg-stone-200 p-4 rounded-lg space-y-2">
                                <div class="layer p-2 rounded text-center font-semibold" data-layer-vis="6">CMD</div>
                                <div class="layer p-2 rounded text-center font-semibold" data-layer-vis="5">COPY . .</div>
                                <div class="layer p-2 rounded text-center font-semibold" data-layer-vis="4">RUN npm install</div>
                                <div class="layer p-2 rounded text-center font-semibold" data-layer-vis="3">COPY package*.json</div>
                                <div class="layer p-2 rounded text-center font-semibold" data-layer-vis="2">WORKDIR</div>
                                <div class="layer p-2 rounded text-center font-semibold" data-layer-vis="1">FROM</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="comandos" class="mb-16 min-h-screen">
                <h2 class="text-3xl font-bold mb-4 accent-terracotta">Explorador de Comandos</h2>
                <p class="mb-8 text-lg">Um `Dockerfile` é construído com uma série de comandos. Clique em um comando ou em uma comparação para entender sua função, sintaxe e as melhores práticas de uso.</p>
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="md:w-1/3 lg:w-1/4">
                        <div id="command-list" class="flex flex-col gap-2">
                        </div>
                    </div>
                    <div id="command-details" class="md:w-2/3 lg:w-3/4 bg-white p-6 rounded-xl shadow-lg min-h-[300px]">
                    </div>
                </div>
            </section>

            <section id="praticas" class="mb-16 min-h-screen">
                <h2 class="text-3xl font-bold mb-4 accent-terracotta">Boas Práticas para Produção</h2>
                <p class="mb-8 text-lg">Construir imagens para produção requer atenção à segurança, tamanho e eficiência. Explore as técnicas mais importantes para criar `Dockerfiles` robustos.</p>
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold mb-2">Builds de Múltiplos Estágios</h3>
                        <p class="mb-4">Use múltiplos `FROM` em um `Dockerfile` para separar o ambiente de build do ambiente de produção. Isso resulta em imagens finais drasticamente menores e mais seguras, contendo apenas o necessário para executar a aplicação.</p>
                        <div class="bg-stone-200 p-4 rounded-lg text-center">
                            <div class="flex flex-col md:flex-row items-center justify-center gap-4">
                                <div class="border-2 border-dashed border-stone-400 p-4 rounded-lg">
                                    <h4 class="font-bold">Estágio 1: Builder</h4>
                                    <p class="text-sm">Imagem completa com JDK, Maven, etc.</p>
                                    <div class="bg-charcoal text-white font-mono p-2 rounded mt-2 text-sm">app.jar</div>
                                </div>
                                <div class="text-3xl font-bold accent-terracotta mx-4">&rarr;</div>
                                <div class="border-2 border-solid border-accent-terracotta p-4 rounded-lg">
                                    <h4 class="font-bold">Estágio 2: Final</h4>
                                    <p class="text-sm">Imagem mínima com JRE.</p>
                                    <div class="bg-charcoal text-white font-mono p-2 rounded mt-2 text-sm">Copia apenas o app.jar</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold mb-2">Executar como Usuário Não-Root</h3>
                        <p>Por segurança, evite executar sua aplicação como usuário `root` dentro do contêiner. Use as instruções `RUN` para criar um usuário e `USER` para mudar para ele antes de iniciar a aplicação. Isso segue o princípio do menor privilégio.</p>
                    </div>
                     <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold mb-2">Checklist de Otimização</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Use uma imagem base mínima (`alpine`, `slim`).</li>
                            <li>Otimize a ordem das instruções para o cache.</li>
                            <li>Utilize um arquivo `.dockerignore` para limpar o contexto.</li>
                            <li>Combine comandos `RUN` para minimizar o número de camadas.</li>
                            <li>Prefira `COPY` em vez de `ADD` para maior clareza.</li>
                            <li>Use versões explícitas de imagens (`node:20-alpine` em vez de `node:latest`).</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="exemplos" class="min-h-screen">
                <h2 class="text-3xl font-bold mb-4 accent-terracotta">Exemplos Práticos</h2>
                <p class="mb-8 text-lg">Veja como as melhores práticas se aplicam a `Dockerfiles` para diferentes linguagens e frameworks. Selecione uma tecnologia para ver um exemplo completo e comentado.</p>
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="border-b border-stone-200">
                        <nav id="example-tabs" class="-mb-px flex space-x-6 px-6" aria-label="Tabs">
                            <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-target="nodejs">Node.js</button>
                            <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-target="python">Python/Django</button>
                            <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-target="java">Java/Spring</button>
                        </nav>
                    </div>
                    <div id="example-content" class="p-6">
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const commandData = {
        'FROM': {
            title: 'FROM',
            description: 'Define a imagem base para as instruções subsequentes. Todo Dockerfile válido deve começar com uma instrução `FROM`.',
            syntax: 'FROM <imagem>[:<tag>]',
            example: 'FROM python:3.11-slim'
        },
        'WORKDIR': {
            title: 'WORKDIR',
            description: 'Define o diretório de trabalho para qualquer instrução `RUN`, `CMD`, `ENTRYPOINT`, `COPY` e `ADD` que o siga. Se o `WORKDIR` não existir, ele será criado.',
            syntax: 'WORKDIR /caminho/para/o/diretorio',
            example: 'WORKDIR /app'
        },
        'RUN': {
            title: 'RUN',
            description: 'Executa qualquer comando em uma nova camada sobre a imagem atual e confirma os resultados. É frequentemente usado para instalar pacotes de software.',
            syntax: 'RUN <comando>',
            example: 'RUN apt-get update && apt-get install -y nginx'
        },
        'COPY vs ADD': {
            title: 'COPY vs. ADD',
            isComparison: true,
            items: [
                {
                    command: 'COPY',
                    description: 'Copia arquivos ou diretórios do contexto de build para o sistema de arquivos do contêiner. É transparente e previsível.',
                    syntax: 'COPY <origem> <destino>',
                    recommendation: 'Preferido na maioria dos casos pela sua simplicidade e clareza.'
                },
                {
                    command: 'ADD',
                    description: 'Funciona como `COPY`, mas com duas funcionalidades extras: pode baixar arquivos de uma URL e pode descompactar arquivos `tar` automaticamente.',
                    syntax: 'ADD <origem> <destino>',
                    recommendation: 'Use com cautela. Para baixar arquivos, é mais explícito usar `RUN curl` ou `wget`.'
                }
            ]
        },
        'CMD vs ENTRYPOINT': {
            title: 'CMD vs. ENTRYPOINT',
            isComparison: true,
            items: [
                {
                    command: 'CMD',
                    description: 'Fornece um comando e/ou parâmetros padrão para um contêiner em execução. Estes padrões podem ser sobrescritos na linha de comando (`docker run`).',
                    syntax: 'CMD ["executável","param1","param2"]',
                    recommendation: 'Use para definir um comportamento padrão que o usuário pode querer substituir facilmente.'
                },
                {
                    command: 'ENTRYPOINT',
                    description: 'Configura um contêiner para ser executado como um executável. Os argumentos da linha de comando (`docker run ...`) são anexados ao `ENTRYPOINT`.',
                    syntax: 'ENTRYPOINT ["executável","param1","param2"]',
                    recommendation: 'Ideal para criar imagens com um propósito fixo. A combinação `ENTRYPOINT` + `CMD` é a mais flexível.'
                }
            ]
        },
        'EXPOSE': {
            title: 'EXPOSE',
            description: 'Informa ao Docker que o contêiner escuta em portas de rede específicas em tempo de execução. Funciona como documentação e não publica a porta de fato.',
            syntax: 'EXPOSE <porta>/<protocolo>',
            example: 'EXPOSE 8080/tcp'
        },
        'USER': {
            title: 'USER',
            description: 'Define o nome de usuário (ou UID) a ser usado ao executar a imagem. É uma prática de segurança crucial para rodar a aplicação como um usuário não-root.',
            syntax: 'USER <nome_de_usuario>',
            example: 'USER node'
        },
        'ARG vs ENV': {
            title: 'ARG vs. ENV',
            isComparison: true,
            items: [
                {
                    command: 'ARG',
                    description: 'Define uma variável disponível apenas durante o tempo de construção da imagem (`docker build`). Não persiste no contêiner em execução.',
                    syntax: 'ARG <nome>[=<valor_padrão>]',
                    recommendation: 'Use para passar segredos de build ou parametrizar versões de pacotes.'
                },
                {
                    command: 'ENV',
                    description: 'Define uma variável de ambiente que está disponível tanto durante o build quanto para a aplicação dentro do contêiner em execução.',
                    syntax: 'ENV <chave>=<valor>',
                    recommendation: 'Use para configurar a aplicação, como URLs de banco de dados ou chaves de API.'
                }
            ]
        },
    };

    const exampleCodes = {
        nodejs: `
<pre><code class="language-dockerfile hljs font-mono text-sm"># Estágio 1: Build
FROM node:20-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install --only=production

# Estágio 2: Produção
FROM node:20-alpine
WORKDIR /app
COPY --from=builder /app/node_modules ./node_modules
COPY . .
USER node
EXPOSE 3000
CMD ["node", "server.js"]
</code></pre>
        `,
        python: `
<pre><code class="language-dockerfile hljs font-mono text-sm"># Estágio 1: Builder
FROM python:3.11-slim AS builder
ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Estágio 2: Produção
FROM python:3.11-slim
RUN addgroup --system appgroup && adduser --system --ingroup appgroup appuser
WORKDIR /app
COPY --from=builder /usr/local/lib/python3.11/site-packages /usr/local/lib/python3.11/site-packages
COPY --chown=appuser:appgroup . .
USER appuser
EXPOSE 8000
ENTRYPOINT ["gunicorn", "my_project.wsgi:application", "--bind", "0.0.0.0:8000"]
</code></pre>
        `,
        java: `
<pre><code class="language-dockerfile hljs font-mono text-sm"># Estágio 1: Build
FROM maven:3.9-eclipse-temurin-17 AS builder
WORKDIR /app
COPY pom.xml .
RUN mvn dependency:go-offline
COPY src ./src
RUN mvn package -DskipTests

# Estágio 2: Produção
FROM eclipse-temurin:17-jre-jammy
RUN useradd -m -r appuser
WORKDIR /app
COPY --from=builder /app/target/*.jar app.jar
RUN chown appuser:appuser app.jar
USER appuser
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "app.jar"]
</code></pre>
        `
    };

    const commandList = document.getElementById('command-list');
    const commandDetails = document.getElementById('command-details');
    const commandKeys = ['FROM', 'WORKDIR', 'RUN', 'COPY vs ADD', 'CMD vs ENTRYPOINT', 'ARG vs ENV', 'USER', 'EXPOSE'];

    commandKeys.forEach(key => {
        const btn = document.createElement('button');
        btn.textContent = key;
        btn.className = 'command-btn text-left w-full px-4 py-2 border-2 border-stone-300 rounded-lg transition-colors duration-200 hover:border-accent-terracotta hover:bg-accent-terracotta hover:text-white';
        btn.dataset.command = key;
        commandList.appendChild(btn);
    });

    function renderCommandDetails(commandKey) {
        const data = commandData[commandKey];
        let html = '';

        if (data.isComparison) {
            html += `<h3 class="text-2xl font-bold mb-4">${data.title}</h3>`;
            html += '<div class="grid grid-cols-1 lg:grid-cols-2 gap-4">';
            data.items.forEach(item => {
                html += `<div class="border border-stone-200 p-4 rounded-lg">
                    <h4 class="text-xl font-bold accent-terracotta">${item.command}</h4>
                    <p class="my-2">${item.description}</p>
                    <p class="font-mono text-sm bg-stone-200 p-2 rounded">${item.syntax}</p>
                    <p class="mt-3 text-sm italic">${item.recommendation}</p>
                </div>`;
            });
            html += '</div>';
        } else {
            html += `<h3 class="text-2xl font-bold mb-2">${data.title}</h3>
                <p class="mb-4">${data.description}</p>
                <h4 class="font-semibold">Sintaxe:</h4>
                <p class="font-mono text-sm bg-stone-200 p-2 rounded mb-4">${data.syntax}</p>
                <h4 class="font-semibold">Exemplo:</h4>
                <p class="font-mono text-sm bg-stone-200 p-2 rounded">${data.example}</p>`;
        }
        commandDetails.innerHTML = html;
    }

    commandList.addEventListener('click', (e) => {
        if (e.target.matches('.command-btn')) {
            const commandKey = e.target.dataset.command;
            document.querySelectorAll('.command-btn').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            renderCommandDetails(commandKey);
        }
    });

    document.querySelector('.command-btn').click();

    const rebuildBtn = document.getElementById('rebuild-btn');
    const layers = document.querySelectorAll('[data-layer-vis]');
    
    function resetLayers() {
        layers.forEach(layer => {
            layer.classList.remove('rebuilt');
            layer.classList.add('cached');
        });
    }

    resetLayers();

    rebuildBtn.addEventListener('click', () => {
        resetLayers();
        setTimeout(() => {
            document.querySelector('[data-layer-vis="5"]').classList.remove('cached');
            document.querySelector('[data-layer-vis="5"]').classList.add('rebuilt');
            document.querySelector('[data-layer-vis="6"]').classList.remove('cached');
            document.querySelector('[data-layer-vis="6"]').classList.add('rebuilt');
        }, 100);
    });

    const exampleTabs = document.getElementById('example-tabs');
    const exampleContent = document.getElementById('example-content');

    function renderExample(target) {
        exampleContent.innerHTML = exampleCodes[target];
    }

    exampleTabs.addEventListener('click', (e) => {
        if (e.target.matches('.tab-btn')) {
            const target = e.target.dataset.target;
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            renderExample(target);
        }
    });

    document.querySelector('.tab-btn').click();
    
    const sections = document.querySelectorAll('main section');
    const navLinks = document.querySelectorAll('.sidebar-link');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, { rootMargin: '-50% 0px -50% 0px' });

    sections.forEach(section => {
        observer.observe(section);
    });
});
</script>
</body>
</html>